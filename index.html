<!DOCTYPE html>
<!-- Expand the page for fill all height of device -->
<html lang="en" class="h-100">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Respikar</title>

    <link rel="icon" sizes="200x200" href="/img/png/Logo.png">

    <link rel="stylesheet" href="css/bootstrap.css">
</head>
<!-- Needed for the Sticky Bottom Footer -->
<body class="d-flex flex-column h-100">

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <symbol id="bi-exclamation" fill="currentColor" viewBox="0 0 16 16">
        <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"/>
    </symbol>
</svg>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Respikar</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse"
                data-target="#navbar-supported-content" aria-controls="navbar-supported-content"
                aria-expanded="false" aria-label="Toggle Navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbar-supported-content">
            <ul class="navbar-nav mr-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="#">Alarms</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="#">Statistics</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="#">Manual</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<section class="row mx-0 pb-5" style="background: linear-gradient(90deg, #0c2646 0, #204065 60%, #2a5788)">
    <!-- Chart.js charts are rendered on user provided canvas elements. Thus,
        it is up to the user to create the canvas element in a way that is
        accessible. The canvas element has support in all browsers and will
        render on screen but the canvas content will not be accessible to
        screen readers.

        With canvas, the accessibility has to be added with ARIA attributes
        on the canvas element or added using internal fallback content placed
        within the opening and closing canvas tags. -->
    <h4 class="mt-4 font-weight-bold text-center text-white">Daily Statistics</h4>
    <canvas id="respikar-day-chart" class="container py-3" height="300px"
            aria-label="Chart for Day Statistics" role="img"></canvas>
</section>

<div class="container bg-light py-4 text-center" style="font-family: Montserrat,Helvetica Neue,Arial,sans-serif;">
    <div class="row mx-3 shadow-lg" style="margin-top: -60px">
        <div class="col-12 bg-white border p-2">
            <h3 class="mt-3" style="font-weight: 700; font-size: xx-large">16</h3>
            <h6 class="text-muted small" style="font-weight: 400">COMPLETED</h6>
        </div>
        <div class="col-12 bg-white border p-2">
            <h3 class="mt-3" style="font-weight: 700; font-size: xx-large">16</h3>
            <h6 class="text-muted small" style="font-weight: 400;">MISSING</h6>
        </div>
        <div class="col-12 bg-white border p-2">
            <h3 class="mt-3" style="font-weight: 700; font-size: xx-large">16</h3>
            <h6 class="text-muted small" style="font-weight: 400;">REJECTED</h6>
        </div>
        <div class="col-12 bg-white border p-2">
            <h3 class="mt-3" style="font-weight: 700; font-size: xx-large">16</h3>
            <h6 class="text-muted small" style="font-weight: 400;">NEXT MONTH</h6>
        </div>
    </div>
</div>

<section class="row mx-0 bg-light pt-3 pb-5" style="border-radius: 30px 0 0 0">
    <p class="text-center text-muted">Copyright &copy; 2020. J & J</p>
</section>

<footer class="bg-light mt-auto py-2 border-top fixed-bottom">
    <div class="container mx-0 row row-cols-4 gx-5">
        <a class="col" href="#"><img src="img/svg/Smock_Home_18_N.svg" class="h-100" alt="Home"></a>
        <a class="col" href="html/Calendar.html"><img src="img/svg/Smock_Calendar_18_N.svg" class="h-100"
                                                      alt="Calendar"></a>
        <a class="col" href="html/HowTo.html"><img src="img/svg/Smock_GraphDonut_18_N.svg" class="h-100"
                                                   alt="Graph"></a>
        <a class="col" href="html/Profile.html"><img src="img/svg/Smock_Settings_18_N.svg" class="h-100" alt="Settings"></a>
    </div>
</footer>

<script src="js/bootstrap.bundle.js"></script>
<script src="js/Chart.bundle.js"></script>
<script>

    // Execute the script after page load.
    window.onload = function () {
        // @type {Storage}
        let localStorage = window.localStorage;
        // @type {string|null}
        const isFirstView = localStorage.getItem("isFirstSession");
        // If not has been defined (null), then is first visit of user
        if (isFirstView === null) {
            localStorage.setItem("isFirstSession", "false");
            // Redirect to page of login
            window.location.href = '/html/SignIn.html';
        }
    }

    // Example: Enable tooltips everywhere
    // One way to initialize all tooltips on a page would be to select them
    // by their data-toggle attribute:
    // Reference: Boostrap 5 Doc - Section Tooltip
    const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="tooltip"]'));
    const tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    });

    let context = document.getElementById('respikar-day-chart');
    let myChart = new Chart(context, {
        type: 'doughnut',
        data: {
            labels: ['Missing', 'Rejected', 'Completed', 'Next Month'],
            datasets: [{
                label: '# of Votes',
                data: [12, 19, 3, 2],
                borderColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                ],
                backgroundColor: [
                    '#dc3545',
                    '#ffc107',
                    '#198754',
                    '#0d6efd',
                ],
                borderWidth: 1
            }]
        },
        options: {
            // 50 - for doughnut, 0 - for pie
            cutoutPercentage: 50,
            legend: {
                labels: {
                    fontColor: 'white',
                    fontFamily: "'Public Sans', 'sans-serif'",
                    fontSize: 16,
                    fontStyle: 'normal',
                }
            },
            tooltips: {
                bodyFontFamily: "'Public Sans', 'sans-serif'",
                bodySpacing: 4,
                bodyFontSize: 16,
                bodyFontColor: 'black',
                backgroundColor: 'white',
            }
        }
    });

</script>
</body>
</html>
