<!DOCTYPE html>
<!-- Expand the page for fill all height of device -->
<html lang="en" class="h-100">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Respikar</title>

    <link rel="icon" sizes="200x200" href="/img/png/Logo.png">

    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="/css/loading-bar.css">
</head>
<!-- Needed for the Sticky Bottom Footer -->
<body class="d-flex flex-column h-100">

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Respikar</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse"
                data-target="#navbar-supported-content" aria-controls="navbar-supported-content"
                aria-expanded="false" aria-label="Toggle Navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbar-supported-content">
            <ul class="navbar-nav mr-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="#">Alarms</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="#">Statistics</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="#">Manual</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Dynamic tabbed interfaces, as described in the WAI ARIA Authoring
     Practices, require role="tablist", role="tab", role="tabpanel", and
     additional aria- attributes in order to convey their structure,
     functionality and current state to users of assistive technologies
     (such as screen readers).

     Note that dynamic tabbed interfaces should not contain dropdown menus,
     as this causes both usability and accessibility issues. From a usability
     perspective, the fact that the currently displayed tab’s trigger element
     is not immediately visible (as it’s inside the closed dropdown menu) can
     cause confusion. From an accessibility point of view, there is currently
     no sensible way to map this sort of construct to a standard WAI ARIA
     pattern, meaning that it cannot be easily made understandable to users
     of assistive technologies.-->
<section class="row mx-0 bg-light">
    <ul class="nav nav-tabs nav-fill px-1" role="tablist">
        <li class="nav-item" role="presentation">
            <!-- The border-radius property can have from one to four values.
                 Here are the rules:
                 Four values - border-radius: 15px 50px 30px 5px; (first value
                 applies to top-left corner, second value applies to top-right
                 corner, third value applies to bottom-right corner, and fourth
                 value applies to bottom-left corner):  -->
            <a id="respikar-day-tab" class="nav-link active" role="tab" data-toggle="pill"
               href="#respikar-day-content" aria-selected="true"
               aria-controls="respikar-day-content">Day</a>
        </li>
        <li class="nav-item" role="presentation">
            <a id="respikar-week-tab" class="nav-link" role="tab" data-toggle="pill"
               href="#respikar-week-content" aria-selected="false"
               aria-controls="respikar-week-content">Week</a>
        </li>
        <li class="nav-item" role="presentation">
            <a id="respikar-month-tab" class="nav-link" role="tab" data-toggle="pill"
               href="#respikar-month-content" aria-selected="false"
               aria-controls="respikar-month-content">Month</a>
        </li>
    </ul>

    <!-- Chart.js charts are rendered on user provided canvas elements. Thus,
         it is up to the user to create the canvas element in a way that is
         accessible. The canvas element has support in all browsers and will
         render on screen but the canvas content will not be accessible to
         screen readers.

         With canvas, the accessibility has to be added with ARIA attributes
         on the canvas element or added using internal fallback content placed
         within the opening and closing canvas tags. -->
    <div class="tab-content bg-white pb-4" style="border-radius: 0 0 30px 0">
        <section id="respikar-day-content" class="tab-pane fade show active" role="tabpanel"
                 aria-labelledby="respikar-day-tab">
            <h4 class="mt-4 font-weight-bold text-center">Daily Statistics</h4>
            <canvas id="respikar-day-chart" class="container border rounded-lg py-3" height="300px"
                    aria-label="Chart for Day Statistics" role="img"></canvas>
        </section>
        <section id="respikar-week-content" class="tab-pane fade" role="tabpanel"
                 aria-labelledby="respikar-week-tab">
            <h4 class="mt-4 font-weight-bold text-center">Week Statistics</h4>
            <canvas id="respikar-week-chart" class="container border rounded-lg py-3" height="300px"
                    aria-label="Chart for Week Statistics" role="img"></canvas>
        </section>
        <section id="respikar-month-content" class="tab-pane fade" role="tabpanel"
                 aria-labelledby="respikar-month-tab">
            <h4 class="mt-4 font-weight-bold text-center">Month Statistics</h4>
            <canvas id="respikar-month-chart" class="container border rounded-lg py-3" height="300px"
                    aria-label="Chart for Month Statistics" role="img"></canvas>
        </section>
    </div>
</section>

<div class="container bg-light py-4 text-center">
    <div class="row row-cols-2 g-1">
        <div class="col bg-white border p-2 ldBar label-center" style="width: 50%; height: 100%" data-preset="circle"
             data-stroke="#198754" data-value="69" data-stroke-width="10"></div>
        <div class="col bg-white border p-2 ldBar label-center" style="width: 50%; height: 100%" data-preset="circle"
             data-stroke="#dc3545" data-value="69" data-stroke-width="10"></div>
        <div class="col bg-white border p-2 ldBar label-center" style="width: 50%; height: 100%" data-preset="circle"
             data-stroke="#ffc107" data-value="69" data-stroke-width="10"></div>
        <div class="col bg-white border p-2 ldBar label-center" style="width: 50%; height: 100%" data-preset="circle"
             data-stroke="#0d6efd" data-value="69" data-stroke-width="10"></div>
    </div>
</div>

<section class="row mx-0 bg-light pt-3 pb-5" style="border-radius: 30px 0 0 0">
    <p class="text-center text-muted">Copyright &copy; 2020. J & J</p>
</section>

<footer class="bg-light mt-auto py-2 border-top fixed-bottom">
    <div class="container mx-0 row row-cols-4 gx-5">
        <a class="col" href="#"><img src="img/svg/Smock_Home_18_N.svg" class="h-100" alt="Home"></a>
        <a class="col" href="html/Calendar.html"><img src="img/svg/Smock_Calendar_18_N.svg" class="h-100"
                                                      alt="Calendar"></a>
        <a class="col" href="html/HowTo.html"><img src="img/svg/Smock_GraphDonut_18_N.svg" class="h-100"
                                                   alt="Graph"></a>
        <a class="col" href="html/Profile.html"><img src="img/svg/Smock_Settings_18_N.svg" class="h-100" alt="Settings"></a>
    </div>
</footer>

<script src="js/bootstrap.bundle.js"></script>
<script src="js/Chart.bundle.js"></script>
<script src="/js/loading-bar.js"></script>
<script>

    // Execute the script after page load.
    window.onload = function () {
        // @type {Storage}
        let localStorage = window.localStorage;
        // @type {string|null}
        const isFirstView = localStorage.getItem("isFirstSession");
        // If not has been defined (null), then is first visit of user
        if (isFirstView === null) {
            localStorage.setItem("isFirstSession", "false");
            // Redirect to page of login
            window.location.href = '/html/SignIn.html';
        }
    }

    let context = document.getElementById('respikar-day-chart');
    let myChart = new Chart(context, {
        type: 'pie',
        data: {
            labels: ['Missing', 'Rejected', 'Completed', 'Next Month'],
            datasets: [{
                label: '# of Votes',
                data: [12, 19, 3, 2],
                borderColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                ],
                backgroundColor: [
                    '#dc3545',
                    '#ffc107',
                    '#198754',
                    '#0d6efd',
                ],
                borderWidth: 1
            }]
        },
        options: {
            cutoutPercentage: 0,
        }
    });

</script>
</body>
</html>
